(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{18:function(t,e,s){},19:function(t,e,s){},20:function(t,e,s){},21:function(t,e,s){},22:function(t,e,s){},52:function(t,e,s){"use strict";s.r(e);s(107);var a=s(23),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"App"}},[s("div",{staticClass:"sidebar"},[s("myself"),t._v(" "),s("list"),t._v(" "),s("div",{staticClass:"setbtn"},[s("ul",{staticClass:"btn-menu"},t._l(t.btnMenu,function(e){return s("li",[s("a",{class:{active:e.boolean==t.openStrageData},attrs:{href:"javascript:;"},on:{click:function(s){t.saveStorageData(e.boolean)}}},[t._v(t._s(e.text))])])}))])],1),t._v(" "),s("div",{staticClass:"main"},[s("message"),t._v(" "),s("Vtext")],1)])};n._withStripped=!0;var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"myself"},[s("div",{staticClass:"msg"},[s("img",{attrs:{src:t.myself.img,alt:t.myself.name,title:t.myself.name}}),t._v(" "),s("p",[t._v(t._s(t.myself.name))])]),t._v(" "),s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{type:"text",placeholder:t.searchMsg.placeholde},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})])])};i._withStripped=!0;var c=s(5),o=s.n(c),r=s(0),l={computed:o()({},Object(r.d)(["myself","searchMsg"]),{message:{get:function(){return this.searchMsg.val},set:function(t){this.$store.commit("UPDATEDSAERCH",t)}}})},u=(s(93),s(3)),m=Object(u.a)(l,i,[],!1,null,"b4e62230",null);m.options.__file="src\\components\\myself.vue";var p=m.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"list"},t._l(t.searchList,function(e){return s("li",{key:e.id,class:{active:e.id==t.actListId},attrs:{title:e.use.name},on:{click:function(s){t.changeActList(e.id)}}},[s("img",{attrs:{src:e.use.img,alt:e.use.name}}),t._v(" "),s("p",[t._v(t._s(e.use.name))])])}))};f._withStripped=!0;var g={computed:o()({},Object(r.d)(["list","actListId"]),Object(r.c)(["searchList"])),methods:{changeActList:function(t){this.$store.commit("CHANGE_ACTLISTID",t)}}},v=(s(91),Object(u.a)(g,f,[],!1,null,"2c28a8e4",null));v.options.__file="src\\components\\list.vue";var d=v.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"scrollBottom",rawName:"v-scrollBottom"}],staticClass:"message"},[s("ul",{staticClass:"message-box"},t._l(t.actList.message,function(e){return s("li",{class:{self:e.self}},[s("p",{staticClass:"time"},[s("span",[t._v(t._s(e.time))])]),t._v(" "),s("div",{staticClass:"t-box"},[s("img",{attrs:{src:e.self?t.myself.img:t.actList.use.img}}),t._v(" "),s("p",[t._v(t._s(e.text))])])])}))])};_._withStripped=!0;var h=function(t){t.scrollTop=t.scrollHeight-t.clientHeight},b={computed:o()({},Object(r.c)(["actList"]),Object(r.d)(["myself"])),mounted:function(){var t=this;this.$nextTick(function(){h(t.$el)})},directives:{scrollBottom:{componentUpdated:function(t){h(t)}}}},S=(s(89),Object(u.a)(b,_,[],!1,null,"635b30c7",null));S.options.__file="src\\components\\message.vue";var x=S.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.messageText,expression:"messageText"}],attrs:{type:"text",placeholder:"按 Enter 发送"},domProps:{value:t.messageText},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.submitMsg(e)):null},function(e){return("button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter"))&&e.ctrlKey?t.changeLine(e):null}],input:function(e){e.target.composing||(t.messageText=e.target.value)}}})])};C._withStripped=!0;var E={data:function(){return{messageText:""}},methods:o()({},Object(r.b)(["addSession"]),{submitMsg:function(t){var e=this;this.messageText.length>0&&this.addSession(this.messageText).then(function(){e.messageText=""})},changeLine:function(){this.messageText+="\r\n"}})},y=(s(87),Object(u.a)(E,C,[],!1,null,"5de4609d",null));y.options.__file="src\\components\\text.vue";var w={components:{myself:p,list:d,message:x,Vtext:y.exports},beforeCreate:function(){this.$store.dispatch("InitStorageData")},computed:Object(r.d)(["openStrageData"]),methods:Object(r.b)(["saveStorageData"]),data:function(){return{btnMenu:[{text:"开启LocalStorge",boolean:!0},{text:"关闭LocalStorge",boolean:!1}]}}},I=(s(85),Object(u.a)(w,n,[],!1,null,null,null));I.options.__file="src\\App.vue";var L=I.exports,T=s(51),D=s.n(T),A=s(33),O=s.n(A),k=s(50),j=s.n(k);a.a.use(r.a);var N=function(){var t=new Date;return t.getHours()+":"+t.getMinutes()},M=N(),H="VueChatStorage",$=function(t){var e={list:t.list,openStrageData:t.openStrageData};t.openStrageData&&localStorage.setItem(H,encodeURIComponent(j()(e)))},G=new r.a.Store({state:{myself:{name:"GXMing",img:s(55)},searchMsg:{val:"",placeholde:"search user..."},list:[{id:1,use:{name:"Vue",img:s(54)},message:[{time:M,text:"Hello，这是一个基于Vue2.0 + Vuex + Webpack4构建的简单chat示例，聊天记录可以保存在localStorge。主要学习下新的webpack4配置和Vue，ES6运用。"},{time:M,text:"项目地址: "},{time:M,text:"有问题可以问我，大家一起学习。",self:!0}]},{id:2,use:{name:"webpack4",img:s(53)},message:[{time:M,text:"webpack4"},{time:M,text:"webpack4"}]}],actListId:1,openStrageData:!1},getters:{actList:function(t){return t.list[t.actListId-1]},searchList:function(t){var e=new RegExp("^"+t.searchMsg.val,"i");return t.list.filter(function(t){return e.test(t.use.name)})}},mutations:{OPENDATA:function(t,e){t.openStrageData=e},GET_LISTSECCION:function(t,e){t=O()(t,e)},UPDATEDSAERCH:function(t,e){t.searchMsg.val=e},CHANGE_ACTLISTID:function(t,e){t.actListId=e},CHANGE_SESSION:function(t,e){t.list[t.actListId-1].message.push(e)}},actions:{addSession:function(t,e){var s=t.state,a=t.commit;return new D.a(function(t,n){var i={time:N(),text:e,self:!0};a("CHANGE_SESSION",i),$(s),t()})},InitStorageData:function(t){var e=t.commit,s=localStorage.getItem(H);s&&(s=decodeURIComponent(localStorage.getItem(H)),e("GET_LISTSECCION",JSON.parse(s)))},saveStorageData:function(t,e){var s=t.commit,a=t.state;s("OPENDATA",e),e?$(a):localStorage.removeItem(H)}}});new a.a({el:"#App",store:G,components:{App:L},render:function(t){return t("App")}})},53:function(t,e,s){t.exports=s.p+"image/1eeee7d841e65c47832fdbd75642e9a7.jpg"},54:function(t,e,s){t.exports=s.p+"image/9fb592e94949213425a793b618d98a5e.png"},55:function(t,e,s){t.exports=s.p+"image/4fac88f83af2d473e326b1c0b8fb64d7.jpg"},85:function(t,e,s){"use strict";var a=s(18);s.n(a).a},87:function(t,e,s){"use strict";var a=s(19);s.n(a).a},89:function(t,e,s){"use strict";var a=s(20);s.n(a).a},91:function(t,e,s){"use strict";var a=s(21);s.n(a).a},93:function(t,e,s){"use strict";var a=s(22);s.n(a).a}},[[52,0,1]]]);